<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Life in Weeks</title>
<style>
  body { margin:0; padding:0; background:transparent; }
  svg { display:block; width:100%; height:auto; background:#fff; }
  .label { font-size:10px; fill:#555; font-weight:500; }
</style>
</head>
<body>

<svg id="grid"></svg>

<script>
const birth = new Date(1996, 11, 4);
const now = new Date();
const msWeek = 1000*60*60*24*7;
const weeksLived = Math.floor((now - birth) / msWeek);

const bdWeeks = new Set();
for (let a=1; a<=89; a++) {
  const bd = new Date(1996 + a, 11, 4);
  bdWeeks.add(Math.floor((bd - birth) / msWeek));
}

const COLS = 52;
const ROWS = 90;

const DOT = 5;
const GAP = 3;
const CELL = DOT + GAP;

const LEFT = 60;     // место под цифры
const TOP = 140;     // большой отступ под часы / Dynamic Island
const RIGHT = 20;
const BOTTOM = 60;   // запас снизу

const W = LEFT + COLS * CELL + RIGHT;
const H = TOP + ROWS * CELL + BOTTOM;

const svg = document.getElementById("grid");
svg.setAttribute("viewBox", `0 0 ${W} ${H}`);

// Заголовок маленький сверху
svg.innerHTML += `<text x="${W/2}" y="${TOP/2 + 10}" text-anchor="middle" font-size="18" fill="#333">Life in Weeks</text>`;

// Подписи (0 напротив 1997, 10 напротив 2007...)
for (let d=0; d<=9; d++) {
  const label = d*10;
  const y = TOP + (d*10)*CELL + CELL/2;
  svg.innerHTML += `<text x="${LEFT-12}" y="${y}" text-anchor="end" class="label">${label}</text>`;
}

// Разделители
for (let d=1; d<9; d++) {
  const y = TOP + d*10*CELL - GAP/2;
  svg.innerHTML += `<line x1="${LEFT-10}" x2="${W-RIGHT+10}" y1="${y}" y2="${y}" stroke="#eee" stroke-width="1"/>`;
}

// Точки
for (let w=0; w<COLS*ROWS; w++) {
  const r = Math.floor(w / COLS);
  const c = w % COLS;
  const x = LEFT + c * CELL + CELL/2;
  const y = TOP + r * CELL + CELL/2;

  let color = '#e8e8e8'; // будущее

  if (w < weeksLived) {
    color = bdWeeks.has(w) ? '#e63946' : '#1d1d1d';
  } else if (w === weeksLived) {
    color = '#f48c06';
  } else {
    color = bdWeeks.has(w) ? '#e63946' : '#e8e8e8';
  }

  svg.innerHTML += `<circle cx="${x}" cy="${y}" r="${DOT/2}" fill="${color}"/>`;
}
</script>
</body>
</html>
